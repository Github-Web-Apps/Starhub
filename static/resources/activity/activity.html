<html>
<head>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/octicons/2.0.2/octicons.min.css">
<link rel="stylesheet" href="github-activity.css">

<script src="https://code.jquery.com/jquery-1.11.0.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/0.7.2/mustache.min.js"></script>
<script type="text/javascript" src="github-activity.js"></script>

<script>
	function updateFeed(username) {
		GitHubActivity.feed({ username: username, selector: '#feed' });
	}
	
	var parsedUrl = new URL(window.location.href);
	var username = parsedUrl.searchParams.get('u');

	$(document).ready(function() {
		if (username) {	
			updateFeed(username);
			$('#update').click(function() { updateFeed($("#username").val()); });
			$("#username").keypress(function(e) {
				if (e.which === 13) {
					updateFeed($("#username").val());
				}
			});
		}
	});
</script>

<style>
	html, body {
		width: 100%;
		height: 100%;
	}
	
	body {
		padding: 20px;
		font-family: 'Helvetica', 'Arial';
	}
	
	#feed {
		width: 700px;
		height: 600px;
		margin: 0px;
		margin-left: auto;
		margin-right: auto;		
	}
</style>

</head>

<body>

<div style="visibility:hidden; height:0px">
	<input type="text" id="username" placeholder="GitHub Username" /><button id="update">Update</button>
</div>

<div id="feed"></div>

</body>
</html>
